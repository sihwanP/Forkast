{% extends 'platform_ui/base.html' %}
{% load static humanize %}

{% block title %}시간/요일 인사이트 - Forkast{% endblock %}

{% block content %}
    <section class="pt-24 pb-12 px-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="flex flex-col md:flex-row items-center justify-between mb-10 pb-6 border-b border-gray-700">
                <div class="flex items-center gap-6">
                    <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center text-4xl shadow-lg shadow-pink-500/20">
                        ⏰
                    </div>
                    <div>
                        <h1 class="text-3xl font-extrabold text-white mb-2">골든타임 분석</h1>
                        <p class="text-gray-400">우리 가게가 가장 바쁜 시간과 요일을 파악하여 인력 배치를 최적화하세요.</p>
                    </div>
                </div>
                <div class="text-right mt-4 md:mt-0">
                    <div class="text-sm text-gray-500 uppercase font-bold">Peak Time Today</div>
                    <div class="text-2xl font-bold text-pink-400">19:00 - 21:00</div>
                </div>
            </div>

            <!-- Heatmap Section -->
            <div class="glass p-8 rounded-2xl mb-8 border border-pink-500/10">
                <h3 class="text-xl font-bold mb-6 text-white flex items-center gap-2">
                    <span class="text-pink-500">🔥</span> 주간 주문 히트맵
                </h3>
                <div class="overflow-x-auto">
                    <!-- Simple CSS Grid Mockup for Heatmap -->
                    <div class="min-w-[800px] grid grid-cols-8 gap-1 text-center text-xs text-gray-400">
                        <div></div> <!-- Corner -->
                        {% for d in "월화수목금토일" %}<div>{{d}}</div>{% endfor %}
                        
                        {% for h in "123456" %} <!-- 6 Rows roughly representing time blocks -->
                        <div class="flex items-center justify-center font-bold text-gray-500">1{{h|add:"6"}}:00</div>
                        {% for col in "1234567" %}
                            <div class="h-10 rounded hover:scale-105 transition cursor-pointer" 
                                style="background-color: rgba(236, 72, 153, {{ forloop.counter0|add:h|stringformat:'f'|slice:':3'|default:'0.1' }});">
                            </div>
                        {% endfor %}
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Hourly Analysis -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="glass p-8 rounded-2xl bg-gradient-to-br from-slate-800 to-gray-900">
                    <h3 class="font-bold text-xl mb-6 text-white">시간대별 매출 집중도</h3>
                    <div class="space-y-4">
                        <div class="flex items-center gap-4">
                            <span class="w-16 text-sm font-bold text-gray-400">점심</span>
                            <div class="flex-1 h-3 bg-gray-700 rounded-full overflow-hidden">
                                <div class="h-full bg-blue-500 w-[30%]"></div>
                            </div>
                            <span class="text-sm font-bold text-white">30%</span>
                        </div>
                         <div class="flex items-center gap-4">
                            <span class="w-16 text-sm font-bold text-gray-400">저녁</span>
                            <div class="flex-1 h-3 bg-gray-700 rounded-full overflow-hidden">
                                <div class="h-full bg-pink-500 w-[60%]"></div>
                            </div>
                             <span class="text-sm font-bold text-white">60%</span>
                        </div>
                         <div class="flex items-center gap-4">
                            <span class="w-16 text-sm font-bold text-gray-400">야식</span>
                            <div class="flex-1 h-3 bg-gray-700 rounded-full overflow-hidden">
                                <div class="h-full bg-purple-500 w-[10%]"></div>
                            </div>
                             <span class="text-sm font-bold text-white">10%</span>
                        </div>
                    </div>
                </div>
                
                <div class="glass p-8 rounded-2xl flex flex-col justify-center items-center text-center">
                    <div class="text-5xl mb-4">💡</div>
                    <h3 class="text-xl font-bold text-white mb-2">AI 인력 배치 제안</h3>
                    <p class="text-gray-400 mb-6">
                        금요일 19:00에 주문이 폭주할 것으로 예상됩니다.<br>
                        파트타이머 1명을 추가 배치하는 것이 좋습니다.
                    </p>
                    <button class="px-6 py-2 bg-pink-600 hover:bg-pink-500 rounded-lg text-white font-bold transition">
                        알바몬 공고 등록하기
                    </button>
                </div>
            </div>

        </div>
    </section>
{% endblock %}
