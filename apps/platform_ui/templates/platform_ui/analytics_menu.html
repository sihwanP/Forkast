{% extends 'platform_ui/base.html' %}
{% load static humanize %}

{% block title %}λ©”λ‰΄ μ„±κ³Ό λ¶„μ„ - Forkast{% endblock %}

{% block content %}
    <section class="pt-24 pb-12 px-8">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="flex flex-col md:flex-row items-end justify-between mb-12 pb-8 border-b border-white/5">
                <div>
                    <div class="inline-block py-1 px-3 rounded-lg bg-orange-500/10 text-orange-500 text-[10px] font-black uppercase tracking-widest mb-4 border border-orange-500/20">μƒν’ μ„±κ³Ό λ¶„μ„ (Product Performance)</div>
                    <h1 class="text-4xl lg:text-5xl font-display font-black text-white tracking-tight">λ©”λ‰΄ <span class="text-orange-500">μΈν…”λ¦¬μ „μ¤</span></h1>
                    <p class="text-slate-400 mt-3 font-medium">μ‹¤μ‹κ°„ νλ§¤ μ„±κ³Όμ™€ μμµ κΈ°μ—¬λ„λ¥Ό λ¶„μ„ν•μ—¬ μµμ μ λ©”λ‰΄ μ „λµμ„ λ„μ¶ν•©λ‹λ‹¤.</p>
                </div>
                <div class="flex gap-3">
                    <div class="flex items-center gap-2 p-1.5 bg-orange-500/5 border border-orange-500/10 rounded-2xl text-[11px] font-black uppercase tracking-tight">
                        <span class="px-3 py-1.5 rounded-xl bg-orange-600 text-white shadow-lg shadow-orange-600/20">π”¥ HOT: μΉμ¦λ³Ό</span>
                        <span class="px-3 py-1.5 text-slate-500">β„οΈ COOL: λ§¤μ΄ μ™</span>
                    </div>
                </div>
            </div>

            <!-- Menu Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Top Performers -->
                <div class="glass-panel p-8 rounded-3xl group">
                    <h3 class="text-xl font-display font-black mb-8 text-white flex items-center gap-3 tracking-tight">
                        <span class="w-2 h-8 bg-orange-500 rounded-full"></span> λ² μ¤νΈ μ„±κ³Ό λ©”λ‰΄ (Top 5)
                    </h3>
                    <div class="space-y-4">
                        {% for i in "12345" %}
                        <div class="flex items-center justify-between p-5 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 hover:border-white/10 transition-all duration-300 group cursor-pointer">
                            <div class="flex items-center gap-5">
                                <div class="w-10 h-10 rounded-xl bg-orange-500/20 text-orange-500 flex items-center justify-center font-black text-lg border border-orange-500/30 group-hover:scale-110 transition">{{ forloop.counter }}</div>
                                <div>
                                    <div class="font-bold text-white text-lg tracking-tight">ν™©κΈ μ¬λ¦¬λΈ μΉν‚¨</div>
                                    <div class="text-[10px] text-slate-500 font-black uppercase tracking-widest mt-1">μ£Όλ¬Έλ‰: {{ 150|add:forloop.counter }} κ°</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-display font-black text-white text-lg">β‚© 3,500,000</div>
                                <div class="text-[11px] font-black text-emerald-400 mt-1 flex items-center justify-end gap-1"><i class="fa-solid fa-chart-line"></i> +12%</div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Analysis Chart -->
                <div class="glass-panel p-8 rounded-3xl">
                     <h3 class="text-xl font-display font-black mb-8 text-white flex items-center gap-3 tracking-tight">
                        <span class="w-2 h-8 bg-blue-500 rounded-full"></span> λ©”λ‰΄λ³„ νλ§¤ λΉ„μ¤‘ (Portfolio Mix)
                    </h3>
                    <div class="bg-slate-900/30 rounded-2xl p-6 border border-white/5">
                        <div id="menuPieChart" class="h-80 w-full"></div>
                    </div>
                </div>
            </div>
            
            <!-- Detailed Table Section -->
            <div class="mt-8 glass p-8 rounded-2xl">
                <h3 class="text-xl font-bold mb-6 text-white">μƒμ„Έ λ©”λ‰΄ λ¶„μ„ν‘</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="text-gray-400 text-sm border-b border-gray-700">
                                <th class="py-3 px-4">μμ„</th>
                                <th class="py-3 px-4">λ©”λ‰΄λ…</th>
                                <th class="py-3 px-4">μΉ΄ν…κ³ λ¦¬</th>
                                <th class="py-3 px-4">νλ§¤λ‰</th>
                                <th class="py-3 px-4">λ§¤μ¶μ•΅</th>
                                <th class="py-3 px-4">AI μ¶”μ²</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr class="border-b border-white/5 hover:bg-white/5 transition group">
                                <td class="py-5 px-4 font-black text-slate-500">1</td>
                                <td class="py-5 px-4 font-bold text-white">μΉμ¦λ³Ό μ„ΈνΈ</td>
                                <td class="py-5 px-4"><span class="px-3 py-1 bg-white/5 border border-white/5 rounded-lg text-[10px] font-black uppercase tracking-widest text-slate-400">μ‚¬μ΄λ“ λ©”λ‰΄</span></td>
                                <td class="py-5 px-4 text-white font-medium">450 κ°</td>
                                <td class="py-5 px-4 font-display font-black text-blue-400">β‚© 2,250,000</td>
                                <td class="py-5 px-4"><span class="px-3 py-1.5 bg-emerald-500/10 text-emerald-500 border border-emerald-500/20 rounded-xl text-xs font-black">κ°€κ²© μΈμƒ κ°€λ¥ (Optimal)</span></td>
                            </tr>
                            <tr class="border-b border-gray-800 hover:bg-white/5 transition">
                                <td class="py-4 px-4 font-bold">2</td>
                                <td class="py-4 px-4">μ–‘λ…μΉν‚¨</td>
                                <td class="py-4 px-4"><span class="px-2 py-0.5 bg-gray-700 rounded text-xs">λ©”μΈ</span></td>
                                <td class="py-4 px-4">320</td>
                                <td class="py-4 px-4 font-bold">β‚© 5,400,000</td>
                                <td class="py-4 px-4 text-yellow-400 font-bold">μ„ΈνΈ κµ¬μ„± μ¶”μ²</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
    Highcharts.chart('menuPieChart', {
        chart: { type: 'pie', backgroundColor: 'transparent' },
        title: { text: null },
        series: [{
            name: 'λ§¤μ¶ λΉ„μ¤‘',
            data: [
                { name: 'μΉν‚¨ (λ©”μΈ)', y: 65, color: '#f97316' },
                { name: 'μ‚¬μ΄λ“', y: 20, color: '#eab308' },
                { name: 'μλ£/μ£Όλ¥', y: 15, color: '#3b82f6' }
            ]
        }],
        plotOptions: {
            pie: {
                dataLabels: { enabled: true, color: 'white', format: '{point.name}: {point.percentage:.1f}%' },
                borderWidth: 0
            }
        },
        credits: { enabled: false }
    });
</script>
{% endblock %}
