
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬ì¹´ìŠ¤íŠ¸ AI ì»¨ì„¤íŒ… ëŒ€ì‹œë³´ë“œ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#0f172a',
                        primary: '#3b82f6',
                        secondary: '#6366f1',
                    }
                }
            }
        }
    </script>
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* LIGHT MODE (Default) - Dark fonts on light background */
        :root {
            --bg-main: #FAF7F2;
            --bg-card: #ffffff;
            --bg-sidebar: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
        }

        /* DARK MODE - Light fonts on dark background */
        body.dark-mode {
            --bg-main: #0f172a;
            --bg-card: rgba(30, 41, 59, 0.8);
            --bg-sidebar: #0f172a;
            --text-primary: #f8fafc;
            --text-secondary: #e2e8f0;
            --text-muted: #94a3b8;
            --border-color: rgba(255, 255, 255, 0.1);
        }

        body { 
            font-family: 'Noto Sans KR', sans-serif; 
            background-color: var(--bg-main); 
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
        }

        /* Apply text colors globally */
        h1, h2, h3, h4, h5, h6 { color: var(--text-primary); }
        p, span, a, li { color: var(--text-secondary); }
        .text-muted { color: var(--text-muted) !important; }

        /* LIGHT MODE: Force all text to be dark */
        body:not(.dark-mode) * {
            color: inherit;
        }
        body:not(.dark-mode) h1, body:not(.dark-mode) h2, body:not(.dark-mode) h3,
        body:not(.dark-mode) h4, body:not(.dark-mode) h5, body:not(.dark-mode) h6 {
            color: #0f172a !important;
        }
        body:not(.dark-mode) p, body:not(.dark-mode) span, body:not(.dark-mode) div,
        body:not(.dark-mode) a, body:not(.dark-mode) li, body:not(.dark-mode) label {
            color: #334155 !important;
        }
        
        /* Override Tailwind text colors for theme compatibility */
        body:not(.dark-mode) .text-white { color: #0f172a !important; }
        body:not(.dark-mode) .text-slate-100, 
        body:not(.dark-mode) .text-slate-200,
        body:not(.dark-mode) .text-slate-300,
        body:not(.dark-mode) .text-slate-400,
        body:not(.dark-mode) .text-slate-500,
        body:not(.dark-mode) .text-gray-300,
        body:not(.dark-mode) .text-gray-400,
        body:not(.dark-mode) .text-gray-500 { color: #475569 !important; }

        /* Preserve colored elements */
        body:not(.dark-mode) .text-blue-400,
        body:not(.dark-mode) .text-blue-500,
        body:not(.dark-mode) .text-blue-600 { color: #2563eb !important; }
        body:not(.dark-mode) .text-red-400,
        body:not(.dark-mode) .text-red-500,
        body:not(.dark-mode) .text-red-600 { color: #dc2626 !important; }
        body:not(.dark-mode) .text-green-400,
        body:not(.dark-mode) .text-green-500,
        body:not(.dark-mode) .text-green-600 { color: #16a34a !important; }
        body:not(.dark-mode) .text-amber-400,
        body:not(.dark-mode) .text-amber-500,
        body:not(.dark-mode) .text-amber-600 { color: #d97706 !important; }
        
        /* Button text exceptions */
        body:not(.dark-mode) .bg-blue-500 a,
        body:not(.dark-mode) .bg-blue-600 a,
        body:not(.dark-mode) .bg-blue-600 span,
        body:not(.dark-mode) .bg-blue-600 *,
        body:not(.dark-mode) .btn-primary *,
        body:not(.dark-mode) button[class*="bg-blue"] * { color: white !important; }

        /* Dark mode text overrides - Removed !important to allow local overrides */
        body.dark-mode .text-slate-600,
        body.dark-mode .text-slate-700,
        body.dark-mode .text-slate-800,
        body.dark-mode .text-slate-900,
        body.dark-mode .text-gray-600,
        body.dark-mode .text-gray-700,
        body.dark-mode .text-gray-800,
        body.dark-mode .text-gray-900,
        body.dark-mode [class*="text-slate-400"],
        body.dark-mode [class*="text-slate-500"],
        body.dark-mode [class*="text-gray-400"],
        body.dark-mode [class*="text-gray-500"] { color: #f1f5f9 !important; }

        /* Background overrides for dark mode */
        body.dark-mode .bg-white { background-color: #1e293b !important; border-color: #334155 !important; }
        body.dark-mode .bg-slate-50 { background-color: #0f172a !important; border-color: #1e293b !important; }
        body.dark-mode .bg-gray-50 { background-color: #111827 !important; border-color: #1f2937 !important; }

        /* LIGHT MODE: Override dark backgrounds to light ones */
        body:not(.dark-mode) .bg-slate-900,
        body:not(.dark-mode) .bg-gray-900 { background-color: #FAF7F2 !important; }
        body:not(.dark-mode) .bg-slate-800,
        body:not(.dark-mode) .bg-gray-800 { background-color: #f1f5f9 !important; }
        body:not(.dark-mode) .bg-slate-700,
        body:not(.dark-mode) .bg-gray-700 { background-color: #e2e8f0 !important; }
        
        /* Light mode gradient backgrounds */
        body:not(.dark-mode) .bg-gradient-to-r.from-slate-800,
        body:not(.dark-mode) [class*="from-slate-800"][class*="to-slate-700"] {
            background: linear-gradient(to right, #e2e8f0, #f1f5f9) !important;
        }
        body:not(.dark-mode) .bg-gradient-to-t { background: linear-gradient(to top, #FAF7F2, transparent) !important; }
        body:not(.dark-mode) .from-gray-900 { --tw-gradient-from: #FAF7F2 !important; }
        body:not(.dark-mode) .via-gray-900\/60 { --tw-gradient-via: rgba(250, 247, 242, 0.6) !important; }
        
        /* Light mode sidebar and switch button */
        body:not(.dark-mode) .bg-slate-900\/80,
        body:not(.dark-mode) .bg-slate-900\/50,
        body:not(.dark-mode) .bg-slate-900\/95 { 
            background-color: rgba(255, 255, 255, 0.95) !important;
        }
        /* FORCE SIDEBAR DARK IN LIGHT MODE */
        #sidebar {
            background-color: #1e293b !important;
            border-right: 1px solid #334155 !important;
        }
        #sidebar * {
            color: #ffffff !important; /* Force all text inside sidebar to be white */
        }
        #sidebar .text-slate-400, #sidebar .text-slate-500 {
            color: #cbd5e1 !important; /* Slightly dimmed white for secondary text */
        }
        body:not(.dark-mode) .border-slate-700,
        body:not(.dark-mode) .border-slate-600,
        body:not(.dark-mode) .border-slate-600\/50 { 
            border-color: #e2e8f0 !important;
        }
        
        /* Light mode card backgrounds */
        body:not(.dark-mode) .glass-panel,
        body:not(.dark-mode) .glass,
        body:not(.dark-mode) .bg-slate-800 { 
            background-color: rgba(255, 255, 255, 0.95) !important;
            border-color: #e2e8f0 !important;
        }


        .glass {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
        }
        .sidebar-active {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-main); }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* Global Image & Media Refinements */
        img, video {
            max-width: 100%;
            height: auto;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        img:hover, video:hover {
            transform: scale(1.01);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            filter: brightness(1.05);
        }
        .glass-panel img, .glass img {
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>

    
<style>
    .gnb-item { padding: 16px 20px; border-radius: 1rem; font-family: 'Outfit', sans-serif; font-weight: 700; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-size: 16px; display: flex; align-items: center; gap: 20px; }
    .gnb-item.active { background-color: #2563eb; color: white; box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.4); }
    .gnb-item:not(.active) { color: #64748b; }
    .gnb-item:not(.active):hover { background-color: rgba(255, 255, 255, 0.05); color: white; }
    
    .status-card { padding: 20px; border-radius: 2.5rem; border: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
    .status-deficit { background: linear-gradient(135deg, rgba(239, 68, 68, 0.12) 0%, rgba(0, 0, 0, 0) 100%); border-color: rgba(239, 68, 68, 0.3); color: #ef4444; }
    .status-profit { background: linear-gradient(135deg, rgba(16, 185, 129, 0.12) 0%, rgba(0, 0, 0, 0) 100%); border-color: rgba(16, 185, 129, 0.3); color: #10b981; }
    
    .strategy-card { background: rgba(15, 23, 42, 0.4); border: 1px solid rgba(255, 255, 255, 0.05); padding: 16px; border-radius: 1.25rem; transition: all 0.3s; cursor: pointer; }
    .strategy-card:hover { border-color: rgba(59, 130, 246, 0.4); background: rgba(59, 130, 246, 0.05); transform: translateY(-2px); }
</style>

</head>
<body class="overflow-x-hidden leading-[1.6] dark-mode">


    <!-- Sidebar -->
    <aside class="fixed inset-y-0 left-0 w-64 bg-slate-900 border-r border-slate-700 z-50 transition-transform duration-300 transform -translate-x-full lg:translate-x-0" id="sidebar" style="background-color: #1e293b !important;">
        <div class="p-6 flex items-center justify-between border-b border-slate-700/50">
            <a href="./index.html" class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-500 hover:opacity-80 transition cursor-pointer">
                Forkast AI
            </a>
            <button class="lg:hidden text-gray-400 hover:text-white" onclick="toggleSidebar()">âœ•</button>
        </div>

        <nav class="px-4 space-y-2 mt-6 overflow-y-auto h-[calc(100%-140px)]">
            
            <!-- Store Dashboard Sidebar -->
            <a href="./dashboard.html" class="flex items-center gap-4 px-4 py-3.5 rounded-2xl hover:bg-white/5 text-slate-400 hover:text-white transition group sidebar- shadow-lg shadow-blue-500/10">
                <span class="w-8 h-8 flex items-center justify-center text-lg text-slate-400 transition"><i class="fa-solid fa-chart-pie"></i></span>
                <span class="font-bold">ë§¤ì¥ ì „ì²´ í˜„í™©</span>
            </a>

            <!-- Analytics -->
            <div class="pt-8 pb-3 text-base font-black text-slate-500 uppercase tracking-[0.2em] px-5 text-center">ë°ì´í„° ì‹¬ì¸µ ë¶„ì„</div>
            
            <a href="/analytics/sales/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-400 group-hover:text-blue-400 transition"><i class="fa-solid fa-chart-line"></i></span>
                <span class="font-bold">ë§¤ì¶œ ìƒì„¸ ë¶„ì„</span>
            </a>
            
            <a href="/analytics/forecast/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-400 group-hover:text-indigo-400 transition"><i class="fa-solid fa-brain"></i></span>
                <span class="font-bold">AI ë§¤ì¶œ ì˜ˆì¸¡</span>
            </a>
            
            <a href="/analytics/menu/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-400 group-hover:text-emerald-400 transition"><i class="fa-solid fa-utensils"></i></span>
                <span class="font-bold">ë©”ë‰´ íŒë§¤ ë¶„ì„</span>
            </a>
            
            <a href="/analytics/time/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-400 group-hover:text-amber-400 transition"><i class="fa-solid fa-clock-rotate-left"></i></span>
                <span class="font-bold">ë°©ë¬¸ ì‹œê°„ ë¶„ì„</span>
            </a>
            
            <a href="/analytics/delivery/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-400 group-hover:text-rose-400 transition"><i class="fa-solid fa-motorcycle"></i></span>
                <span class="font-bold">ë°°ë‹¬ ì„±ê³¼ ë¶„ì„</span>
            </a>

            <!-- ê´€ë¦¬ ë©”ë‰´ -->
            <div class="pt-5 pb-5 text-base font-black text-slate-500 uppercase tracking-[0.2em] px-5 text-center">ì‹œìŠ¤í…œ í†µí•© ê´€ë¦¬</div>
            
             <a href="/notifications/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-400 group-hover:text-red-400 transition"><i class="fa-solid fa-bell"></i></span>
                <span class="font-bold">ë‰´ëŸ´ ì•Œë¦¼ ì„¼í„°</span>
                <span class="ml-auto bg-red-500 text-slate-400 text-[10px] font-black w-5 h-5 flex items-center justify-center rounded-lg shadow-lg shadow-red-500/30">3</span>
            </a>
            
            <a href="/settings/" class="flex items-center gap-4 px-4 py-3 rounded-xl hover:bg-white/5 text-slate-100 hover:text-white transition group ">
                <span class="w-8 h-8 flex items-center justify-center text-slate-100 group-hover:text-slate-200 transition"><i class="fa-solid fa-gear"></i></span>
                <span class="font-bold">í™˜ê²½ ì„¤ì •</span>
            </a>
            
            <a href="./index.html" class="flex items-center gap-5 px-5 py-4 rounded-xl hover:bg-white/5 text-slate-100 hover:text-white transition group">
                <span class="w-8 h-8 flex items-center justify-center text-slate-100 group-hover:text-blue-500 transition"><i class="fa-solid fa-lock text-xl"></i></span>
                <span class="font-bold text-base">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</span>
            </a>
            
        </nav>
        
        <script>
            // Force high contrast for sidebar elements
            document.addEventListener('DOMContentLoaded', () => {
                const sidebarLinks = document.querySelectorAll('#sidebar a');
                sidebarLinks.forEach(link => {
                    link.classList.remove('text-slate-400');
                    link.classList.add('text-slate-100');
                    link.style.color = '#f1f5f9'; // Force via embedded style
                    link.style.fontWeight = '600';
                    link.style.textShadow = '0 1px 2px rgba(0,0,0,0.8)'; // Strong shadow
                });
                
                // Headers
                const headers = document.querySelectorAll('#sidebar .uppercase');
                headers.forEach(header => {
                    header.classList.remove('text-slate-500');
                    header.classList.add('text-white');
                    header.style.color = '#ffffff';
                    header.style.opacity = '1';
                    header.style.textShadow = '0 1px 2px rgba(0,0,0,0.8)';
                });
            });
        </script>

        
        <div class="absolute bottom-0 w-full p-4 border-t border-slate-700 bg-slate-900/80 backdrop-blur-xl">
            <!-- Page Switch (Premium Design - 3 Way) -->
            <div class="relative bg-gradient-to-r from-slate-800 to-slate-700 rounded-2xl p-1.5 mb-4 shadow-lg border border-slate-600/50">
                <div id="page-switch-bg" 
                     class="absolute top-1.5 h-[calc(100%-12px)] bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl transition-all duration-300 ease-out shadow-[0_0_20px_rgba(59,130,246,0.5)]" 
                     style="width: calc(33.33% - 4px); left: calc(33.33% + 2px);"></div>
                
                <div class="relative flex text-base font-extrabold">
                    <a href="./index.html" 
                       class="flex-1 flex flex-col items-center justify-center gap-4 py-4 rounded-xl transition-all duration-300 z-10 text-slate-400 hover:text-white hover:bg-white/5">
                        <i class="fa-solid fa-building-columns text-xl"></i>
                        <span>ë³¸ì‚¬</span>
                    </a>
                    <a href="./dashboard.html" 
                       class="flex-1 flex flex-col items-center justify-center gap-4 py-4 rounded-xl transition-all duration-300 z-10 text-white shadow-sm">
                        <i class="fa-solid fa-server text-xl"></i>
                        <span>ì‚¬ì´íŠ¸</span>
                    </a>
                    <a href="./index.html" 
                       class="flex-1 flex flex-col items-center justify-center gap-4 py-4 rounded-xl transition-all duration-300 z-10 text-slate-400 hover:text-white hover:bg-white/5">
                        <i class="fa-solid fa-store text-xl"></i>
                        <span>ê°€ë§¹ì </span>
                    </a>
                </div>
            </div>
            

            <!-- Theme Toggle Switch -->
            <div class="flex items-center justify-between bg-slate-800 rounded-xl px-4 py-3 mb-3">
                <span class="text-xs font-bold text-slate-400"><i class="fa-solid fa-palette mr-2"></i>í…Œë§ˆ</span>
                <button id="theme-toggle" onclick="toggleTheme()" class="relative w-14 h-7 bg-slate-700 rounded-full transition-colors duration-300">
                    <span id="toggle-knob" class="absolute top-0.5 left-0.5 w-6 h-6 bg-slate-400 rounded-full flex items-center justify-center text-xs transition-all duration-300">
                        <i id="theme-icon" class="fa-solid fa-moon text-slate-900"></i>
                    </span>
                </button>
            </div>
            
             <a href="#" class="flex items-center justify-center gap-2 w-full bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/30 px-4 py-3 rounded-xl font-bold transition">
                <span>ğŸ›‘</span> ì—…ë¬´ ì¢…ë£Œ
            </a>
        </div>

    </aside>


    <!-- Mobile Header -->
    <div class="lg:hidden fixed top-0 w-full z-40 glass px-6 py-4 flex justify-between items-center bg-slate-900/90">
        <a href="./dashboard.html" class="text-xl font-bold text-blue-400 hover:text-blue-300 transition">Forkast AI</a>
        <button class="text-white text-2xl" onclick="toggleSidebar()">â˜°</button>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <main class="lg:ml-64 min-h-screen flex flex-col relative z-0 transition-all duration-300 text-base">
        <div class="flex-1">
            
    <!-- 2. Hero Section -->

    <section class="section relative overflow-hidden flex items-end pb-20 min-h-screen">
        <!-- Main Video -->
        <video class="hero-video absolute top-0 left-0 w-full h-full object-cover z-[-1]" autoplay muted loop playsinline>
            <source src="./static/videos/hero.mp4" type="video/mp4">
            <div class="bg-gray-900 w-full h-full"></div>
        </video>
        <!-- Cinematic Gradient Overlay -->
        <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/60 to-transparent z-0"></div>

        <div class="relative z-10 max-w-7xl mx-auto w-full px-6 flex flex-col lg:flex-row items-end gap-12 animate-fade-in-up">

            <div class="flex-1 text-left lg:mb-10">
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-500/10 border border-blue-500/20 mb-6">
                    <span class="w-2 h-2 rounded-full bg-blue-500 animate-pulse"></span>
                    <span class="text-base font-display font-black text-blue-400 uppercase tracking-widest">Forkast ë‰´ëŸ´ ë¶„ì„ ì—”ì§„</span>
                </div>
                <h1 class="text-6xl lg:text-8xl font-display font-black mb-8 text-white tracking-tighter leading-[1.1]">
                    ì§€ëŠ¥í˜•<br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400">ë§¤ì¶œ ì˜ˆì¸¡ ì—”ì§„</span>
                </h1>
                <p class="text-lg text-slate-200 max-w-xl font-light leading-relaxed">
                    ì‹¤ì‹œê°„ POS ë°ì´í„°ì™€ ê±°ëŒ€ ì–¸ì–´ ëª¨ë¸ì´ ê²°í•©ëœ í•˜ì´í¼ ìŠ¤ì¼€ì¼ ë¶„ì„ ì„œë¹„ìŠ¤.<br>ë°ì´í„°ê°€ ì œì‹œí•˜ëŠ” ëª…í™•í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³µ í™•ë¥ ì„ ê²½í—˜í•˜ì‹­ì‹œì˜¤.
                </p>
            </div>

            <!-- Right: Performance Status -->
            <div class="w-full lg:w-96 flex-none">
                <div class="status-card status-profit">
                    <div class="flex justify-between items-start mb-5">
                        <span class="text-base font-display font-black uppercase tracking-[0.2em] opacity-60">ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ìƒíƒœ</span>
                        <div class="flex items-center gap-4 px-4 py-2 rounded-md bg-white/5 border border-white/10">
                            <div class="w-2 h-2 rounded-full bg-current animate-pulse"></div>
                            <span class="text-base font-black tracking-widest uppercase">ë°ì´í„° ì‹¤ì‹œê°„ ìˆ˜ì‹  ì¤‘</span>
                        </div>
                    </div>
                    
                    <h2 class="text-4xl font-black mb-2">
                        í‘ì ë‹¬ì„±
                    </h2>
                    <p class="text-lg font-medium opacity-80 mb-6">
                        ëª©í‘œ ë§¤ì¶œ ëŒ€ë¹„ <span class="font-black">%</span> ë‹¬ì„± ì¤‘
                    </p>
                    
                    <div class="w-full h-3 bg-black/20 rounded-full overflow-hidden mb-4">
                        <div class="h-full bg-current" style="width: %"></div>
                    </div>
                    
                    <div class="flex justify-between text-base font-bold opacity-60">
                        <span>í˜„ì¬ â‚©</span>
                        <span>ëª©í‘œ â‚©</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. Service Explanation Video -->
    <section class="section py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto w-full flex flex-col md:flex-row items-center gap-16 px-6">
            <div class="w-full md:w-1/2">
                <div data-src="./static/videos/service.mp4" onclick="openVideoModal(this.dataset.src)"
                    class="aspect-video bg-gray-700 rounded-xl overflow-hidden shadow-2xl flex items-center justify-center relative group cursor-pointer hover:ring-4 ring-blue-500/50 transition">
                    <video class="w-full h-full object-cover pointer-events-none">
                        <source src="./static/videos/service.mp4" type="video/mp4">
                    </video>
                    <div class="absolute inset-0 bg-black/40 group-hover:bg-black/20 flex items-center justify-center transition">
                        <div class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:scale-110 transition border border-white/30">
                            <span class="text-4xl text-white ml-2">â–¶</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-full md:w-1/2 text-left">
                <div class="inline-block py-2 px-4 rounded-lg bg-blue-500/10 text-blue-400 text-base font-black uppercase tracking-widest mb-6 border border-blue-500/20">ë°ì´í„° ì „ëµ ì—”ì§„</div>
                <h2 class="text-4xl lg:text-6xl font-display font-black mb-8 leading-[1.2] tracking-tighter">AIê°€ ì„¤ê³„í•˜ëŠ”<br><span class="text-blue-500">ì´ˆê°œì¸í™”</span> ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§</h2>
                <p class="text-lg text-slate-400 font-light leading-relaxed">Forkastì˜ AIëŠ” ë‹¨ìˆœí•œ í†µê³„ ê·¸ ì´ìƒì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ì‹œì¥ ë³€ë™ì„±ê³¼ ë§¤ì¥ì˜ ê³ ìœ  íŠ¹ì„±ì„ ê²°í•©í•˜ì—¬ ì˜¤ì§ ë‹¹ì‹ ë§Œì„ ìœ„í•œ ìµœì ì˜ ê²½ì˜ ì „ëµì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë„ì¶œí•©ë‹ˆë‹¤.</p>
            </div>
        </div>
    </section>

    <!-- 4. Promo Video -->
    <section class="section py-20 bg-gray-900">
        <div class="max-w-7xl mx-auto w-full text-center px-6">
            <h2 class="text-4xl font-bold mb-12">ì„±ê³µí•˜ëŠ” ì‚¬ì¥ë‹˜ë“¤ì˜ ë¹„ë°€</h2>
            <div data-src="./static/videos/promo.mp4" onclick="openVideoModal(this.dataset.src)"
                class="aspect-video bg-gray-800 rounded-xl overflow-hidden shadow-2xl mx-auto max-w-5xl flex items-center justify-center relative cursor-pointer group hover:ring-4 ring-blue-500/50 transition">
                <video class="w-full h-full object-cover pointer-events-none">
                    <source src="./static/videos/promo.mp4" type="video/mp4">
                </video>
                <div class="absolute inset-0 bg-black/40 group-hover:bg-black/20 flex items-center justify-center transition">
                    <div class="w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:scale-110 transition border border-white/30">
                        <span class="text-5xl text-white ml-2">â–¶</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. AI Sales Analysis -->
    <section class="section py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto w-full px-6">
            <h2 class="text-4xl font-bold mb-12 text-center">ì‹¤ì‹œê°„ ë§¤ì¶œ ë¶„ì„ ë° íë¦„ ì˜ˆì¸¡</h2>
            
            <div class="mb-5 flex justify-between items-end border-b border-gray-700 pb-5">
                <div>
                    <h3 class="text-3xl font-display font-black text-white tracking-tight">ì‹¤ì‹œê°„ ì¸í…”ë¦¬ì „ìŠ¤ ë¶„ì„</h3>
                    <p class="text-slate-300 mt-4 text-base font-medium">ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ í†µí•œ AI ë§¤ì¶œ ê°€ì„¤ ê²€ì¦ ë° ì¸ì‚¬ì´íŠ¸ ì¶”ì¶œ</p>
                </div>
                <div class="flex items-center gap-4">
                    <input type="file" id="csvUploadInput" accept=".csv" class="hidden" onchange="uploadCSV(this)">
                    <button onclick="document.getElementById('csvUploadInput').click()" 
                        class="group relative px-5 py-4 rounded-xl bg-blue-600 hover:bg-blue-500 transition-all shadow-lg hover:shadow-blue-500/30 overflow-hidden">
                        <div class="absolute inset-0 bg-white/20 group-hover:translate-x-full transition-transform duration-500 ease-out -translate-x-full skew-x-12"></div>
                        <span class="relative font-bold text-white flex items-center gap-4"><span>ğŸ“‚</span> ë°ì´í„° ì—…ë¡œë“œ</span>
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16">
                <!-- Chart Column -->
                <div class="flex flex-col gap-8">
                    <!-- Real-time Chart Area (Upper) -->
                    <div class="glass p-1 rounded-3xl bg-gradient-to-br from-white/10 to-transparent relative shadow-2xl overflow-hidden group">
                        <div class="absolute -top-24 -right-24 w-48 h-48 bg-blue-600/10 rounded-full blur-3xl group-hover:bg-blue-600/20 transition-all duration-700"></div>
                        <div class="bg-gray-900/80 backdrop-blur-xl rounded-[1.4rem] p-6 h-80 flex flex-col relative text-center">
                            <div class="flex items-center justify-between mb-4 px-2">
                                <h3 class="text-base font-bold text-blue-400 uppercase tracking-widest flex items-center gap-2">
                                    <span class="w-2 h-2 bg-blue-500 rounded-full animate-ping"></span>
                                    ì‹¤ì‹œê°„ ë§¤ì¶œ íë¦„
                                </h3>
                                <span class="text-base text-gray-300 font-medium">ì˜¤ëŠ˜ 00:00 - í˜„ì¬</span>
                            </div>
                            <div id="salesChartContainer" class="w-full h-full"></div>
                        </div>
                    </div>

                    <!-- Comparison Chart Area (Lower - New) -->
                    <div class="glass p-1 rounded-3xl bg-gradient-to-br from-white/10 to-transparent relative shadow-2xl overflow-hidden group">
                        <div class="absolute -bottom-24 -left-24 w-48 h-48 bg-indigo-600/10 rounded-full blur-3xl group-hover:bg-indigo-600/20 transition-all duration-700"></div>
                        <div class="bg-gray-900/80 backdrop-blur-xl rounded-[1.4rem] p-5 h-96 flex flex-col relative">
                            <div class="flex items-center justify-between mb-5 px-1">
                                <h3 class="text-base font-bold text-indigo-400 uppercase tracking-widest flex items-center gap-4">
                                    <span>ğŸ“Š</span>
                                    ì „ì£¼ ë™ê¸° ì„±ê³¼ ë¹„êµ
                                </h3>
                                    <div class="flex items-center gap-4"><span class="w-3 h-3 rounded-full bg-blue-500"></span><span class="text-base text-gray-400">ì˜¤ëŠ˜</span></div>
                                    <div class="flex items-center gap-4"><span class="w-3 h-3 rounded-full bg-indigo-500/40"></span><span class="text-base text-gray-400">ì „ì£¼</span></div>
                                </div>
                            </div>
                            <div id="comparisonChartContainer" class="w-full h-full"></div>
                            <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
                            <div id="comparison-loading" class="absolute inset-0 flex items-center justify-center bg-gray-900/40 backdrop-blur-sm z-10 transition-opacity duration-500 pointer-events-none">
                                <div class="flex flex-col items-center gap-4">
                                    <div class="w-8 h-8 border-2 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin"></div>
                                    <span class="text-base text-indigo-300 font-black tracking-widest">íŒ¨í„´ ë¶„ì„ ì¤‘...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Consultant Comparative Report -->
                <div class="flex flex-col gap-6">
                    <div class="glass p-8 rounded-3xl border border-blue-500/20 bg-blue-900/10 relative overflow-hidden shadow-2xl">

                        
                        <div class="flex items-center gap-3 mb-8">
                            <div class="w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-blue-500/40">
                                <i class="fa-solid fa-chart-line text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-black text-white">AI ì§€ëŠ¥í˜• ë¹„êµ ë¶„ì„ ë¦¬í¬íŠ¸</h3>
                                <div class="mt-1 flex items-center gap-4">
                                    <span class="px-4 py-1.5 bg-white/10 text-blue-300 text-base font-bold rounded border border-blue-500/20">í…Œì´ë¸”: PLATFORM_UI_DAILYSALES</span>
                                    <span class="text-base text-blue-100/40 font-medium">| ê°€ë§¹ì ë³„ ì¼ì¼ ë§¤ì¶œ ì‹¤ì ê³¼ ê³¼ê±° íŒ¨í„´ ë¶„ì„ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Comparative Metrics Hub -->
                        <div class="grid grid-cols-2 gap-4 mb-10 relative">
                            <!-- Today Card -->
                            <div class="p-6 bg-white/5 rounded-2xl border border-white/5 text-center">
                                <p class="text-base font-bold text-gray-300 uppercase mb-2">ì‹¤ì‹œê°„ (ì˜¤ëŠ˜)</p>
                                <p class="text-2xl font-black text-white">â‚©</p>
                            </div>
                            <!-- Past Card -->
                            <div class="p-6 bg-white/5 rounded-2xl border border-white/5 text-center">
                                <p class="text-base font-bold text-gray-300 uppercase mb-2">ì „ì£¼ ë™ê¸° (ê³¼ê±°)</p>
                                <p class="text-2xl font-black text-white">â‚©</p>
                            </div>
                            
                            <!-- Delta Indicator -->
                            <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-gray-900 rounded-full border border-white/10 flex items-center justify-center shadow-xl">
                                <span class="text-red-400 font-black text-base">
                                    %
                                </span>
                            </div>
                        </div>

                        <div class="space-y-8">
                            <div>
                                <h4 class="text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2">
                                    <span class="w-1 h-3 bg-blue-500 rounded-full"></span> ì¢…í•© ì§„ë‹¨ ë° ë¹„êµ í†µì°°
                                </h4>
                                <div class="p-5 bg-blue-500/10 rounded-2xl border border-blue-500/20">
                                    <p class="text-xl font-bold text-white mb-2"></p>
                                    <p class="text-sm text-blue-100/70 font-medium leading-relaxed"></p>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2">
                                    <span class="w-1 h-3 bg-purple-500 rounded-full"></span> ì£¼ìš” ì›ì¸ ë¶„ì„
                                </h4>
                                <p class="text-gray-300 text-sm leading-relaxed pl-3 border-l-2 border-gray-700/50"></p>
                            </div>
                            
                            <div class="pt-6 border-t border-white/5">
                                <h4 class="text-base font-black text-gray-400 uppercase tracking-widest mb-5">AI ê¸°ë°˜ ìš°ì„  ì „ëµ ì œì•ˆ</h4>
                                <div class="grid grid-cols-1 gap-4">
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h3 class="text-2xl font-display font-black mb-8 text-left border-l-4 border-brand-accent pl-6 flex justify-between items-center tracking-tight">
                <span>ì‹œê³„ì—´ ê³¼ê±° íŒ¨í„´ ë¶„ì„</span>
                <div class="flex items-center gap-2">
                    <input type="file" id="pastCsvUploadInput" accept=".csv" class="hidden" onchange="uploadPastCSV(this)">
                    <button onclick="document.getElementById('pastCsvUploadInput').click()" class="text-sm bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg transition flex items-center gap-2"><span>ğŸ“‚</span> ê³¼ê±° ë°ì´í„° ì—…ë¡œë“œ</button>
                </div>
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                <div class="glass p-8 rounded-xl h-80 flex items-center justify-center bg-gray-900/50 relative">
                    <div id="pastSalesChart" class="w-full h-full"></div>
                </div>
                <div class="space-y-6">
                    <div class="glass p-8 rounded-xl border-l-4 border-purple-500">
                        <h3 class="font-bold text-2xl mb-4">ğŸ“‰ AI ê³¼ê±° ë¶„ì„</h3>
                        <p id="past-analysis-text" class="text-gray-300 text-lg"><span class="animate-pulse">ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</span></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. ì˜ì‚¬ê²°ì • ì¸í¬ê·¸ë˜í”½ -->
    <section class="section py-5 bg-gray-900">
        <h2 class="text-3xl font-extrabold mb-5 text-center text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400">ì˜ì‚¬ê²°ì • ëŒ€ì‹œë³´ë“œ</h2>
        
        <div class="max-w-7xl mx-auto w-full relative group">
            <!-- ë°°ê²½ ê¸€ë¡œìš° íš¨ê³¼ -->
            <div class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-violet-600 rounded-3xl blur opacity-25 group-hover:opacity-40 transition duration-1000 group-hover:duration-200"></div>
            
            <div class="relative glass-panel bg-gray-900/90 p-5 rounded-2xl border border-white/10 shadow-2xl">
                <!-- í—¤ë” -->
                <div class="flex flex-col md:flex-row justify-between items-start mb-5 border-b border-gray-700/50 pb-5">
                    <div>
                        <div class="flex items-center gap-4 mb-4">
                            <span class="px-4 py-2 rounded-full bg-blue-500/10 text-blue-400 text-base font-bold border border-blue-500/20">AI ë¶„ì„ ì¸ì‚¬ì´íŠ¸</span>
                            <h3 class="text-3xl font-bold text-white">ì˜¤ëŠ˜ì˜ ì¶”ì²œ ìš´ì˜ ì „ëµ</h3>
                        </div>
                        <p id="ai-analysis-text" class="text-gray-400 font-medium text-base">ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ë„ì¶œëœ ìµœì ì˜ ìš´ì˜ ê°€ì´ë“œì…ë‹ˆë‹¤.</p>
                    </div>
                    <div class="text-right mt-5 md:mt-0 bg-gray-800/50 px-5 py-4 rounded-xl border border-white/5">
                        <span class="block text-base text-gray-400 uppercase tracking-wider font-bold mb-4">AI ì˜ˆì¸¡ ì‹ ë¢° ì§€ìˆ˜</span>
                        <div class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400 flex items-center justify-end gap-4">
                            92% <span class="text-lg text-emerald-500 animate-pulse">â—</span>
                        </div>
                    </div>
                </div>
                
                <!-- ì˜ì‚¬ê²°ì • ì§€í‘œ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-5 mb-5">
                    <!-- 1. ë§¤ì¶œ -->
                    <div id="decision-sales" onclick="selectDecision('sales')" 
                         class="group/item cursor-pointer relative bg-slate-50 p-5 rounded-2xl border border-slate-200 hover:border-blue-500 hover:bg-blue-50 transition-all duration-300 flex flex-col items-center shadow-sm hover:shadow-xl">
                        <div class="relative w-36 h-36 mb-5">
                            <div class="absolute inset-0 bg-blue-100 rounded-full opacity-50 blur-xl transition-all"></div>
                            <div class="relative w-full h-full rounded-full border-[6px] border-blue-100 group-hover/item:border-blue-500 flex items-center justify-center bg-white shadow-xl transition-all">
                                <div class="text-center">
                                    <span class="block text-3xl font-black mb-1 tracking-tight" style="color: #0f172a !important;">ë§¤ì¶œ</span>
                                    <span class="text-base text-blue-600 font-extrabold uppercase tracking-wider" style="color: #2563eb !important;">ë§¤ì¶œ ì¶”ì´ ë¶„ì„</span>
                                </div>
                            </div>
                        </div>
                        <span class="text-2xl font-extrabold mb-4" style="color: #1e293b !important;">ëª©í‘œ ë‹¬ì„± ìœ ë ¥</span>
                        <p class="text-base font-bold text-center" style="color: #475569 !important;">ì „ì£¼ ëŒ€ë¹„ íŠ¸ë˜í”½ ìƒìŠ¹ì„¸ ìœ ì§€ ì¤‘</p>
                    </div>

                    <!-- 2. ì´ìµ -->
                    <div id="decision-profit" onclick="selectDecision('profit')" 
                         class="group/item cursor-pointer relative bg-slate-50 p-5 rounded-2xl border border-slate-200 hover:border-amber-500 hover:bg-amber-50 transition-all duration-300 flex flex-col items-center shadow-sm hover:shadow-xl">
                        <div class="relative w-36 h-36 mb-5">
                            <div class="absolute inset-0 bg-amber-100 rounded-full opacity-50 blur-xl transition-all"></div>
                            <div class="relative w-full h-full rounded-full border-[6px] border-amber-100 group-hover/item:border-amber-500 flex items-center justify-center bg-white shadow-xl transition-all">
                                <div class="text-center">
                                    <span class="block text-3xl font-black mb-1 tracking-tight" style="color: #0f172a !important;">ì´ìµ</span>
                                    <span class="text-base text-amber-600 font-extrabold uppercase tracking-wider" style="color: #d97706 !important;">ë§ˆì§„ìœ¨ ìµœì í™”</span>
                                </div>
                            </div>
                        </div>
                        <span class="text-2xl font-extrabold mb-4" style="color: #1e293b !important;">ë§ˆì§„ìœ¨ 25% ì˜ˆìƒ</span>
                        <p class="text-base font-bold text-center" style="color: #475569 !important;">ì‹ìì¬ ë¡œìŠ¤ìœ¨ ìµœì í™” ë‹¨ê³„</p>
                    </div>

                    <!-- 3. ê³ ê° -->
                    <div id="decision-customer" onclick="selectDecision('customer')" 
                         class="group/item cursor-pointer relative bg-slate-50 p-5 rounded-2xl border border-slate-200 hover:border-emerald-500 hover:bg-emerald-50 transition-all duration-300 flex flex-col items-center shadow-sm hover:shadow-xl">
                        <div class="relative w-36 h-36 mb-5">
                            <div class="absolute inset-0 bg-emerald-100 rounded-full opacity-50 blur-xl transition-all"></div>
                            <div class="relative w-full h-full rounded-full border-[6px] border-emerald-100 group-hover/item:border-emerald-500 flex items-center justify-center bg-white shadow-xl transition-all">
                                <div class="text-center">
                                    <span class="block text-3xl font-black mb-1 tracking-tight" style="color: #0f172a !important;">ê³ ê°</span>
                                    <span class="text-base text-emerald-600 font-extrabold uppercase tracking-wider" style="color: #059669 !important;">ê³ ê° ë§Œì¡± ì§€ìˆ˜</span>
                                </div>
                            </div>
                        </div>
                        <span class="text-2xl font-extrabold mb-4" style="color: #1e293b !important;">ë§Œì¡±ë„ ìµœìƒ</span>
                        <p class="text-base font-bold text-center" style="color: #475569 !important;">ìµœê·¼ ë¦¬ë·° ê¸ì • ë¹„ìœ¨ 98%</p>
                    </div>
                </div>

                <!-- í‘¸í„° ì•¡ì…˜ -->
                <div class="flex flex-col md:flex-row justify-between items-center gap-5 pt-5 border-t border-gray-700/50">
                    <button onclick="openAppliedModal()" class="text-gray-400 hover:text-white flex items-center gap-4 font-bold transition text-base">
                        <i class="fa-regular fa-clipboard"></i> ìƒì„¸ ë¦¬í¬íŠ¸ ë³´ê¸°
                    </button>
                    
                    <div class="flex gap-4 w-full md:w-auto">
                        <button class="flex-1 md:flex-none px-5 py-4 rounded-xl border border-gray-600 font-bold text-gray-400 hover:bg-gray-800 hover:text-white transition text-base">
                            ë³´ë¥˜í•˜ê¸°
                        </button>
                        <button onclick="executeStrategy()" id="btn-execute-strategy" 
                                class="flex-1 md:flex-none relative overflow-hidden group px-5 py-4 rounded-xl font-bold text-white bg-gradient-to-r from-blue-600 to-indigo-600 shadow-lg shadow-blue-600/30 hover:shadow-blue-600/50 transition-all hover:-translate-y-1 text-base">
                            <span class="relative z-10 flex items-center justify-center gap-4">
                                <i class="fa-solid fa-rocket"></i> ì „ëµ ìŠ¹ì¸ ë° ì‹¤í–‰
                            </span>
                            <div class="absolute inset-0 bg-white/20 group-hover:translate-x-full transition-transform duration-500 ease-out -translate-x-full skew-x-12"></div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 9. Strategy Section -->
    <section class="section py-24 bg-slate-50 relative overflow-hidden">
        <!-- Background Decoration -->
        <div class="absolute inset-0 opacity-30 pointer-events-none">
            <div class="absolute -top-24 -left-24 w-96 h-96 rounded-full bg-blue-200 blur-3xl mix-blend-multiply"></div>
            <div class="absolute top-1/2 -right-24 w-80 h-80 rounded-full bg-purple-200 blur-3xl mix-blend-multiply"></div>
        </div>

        <div class="relative max-w-7xl mx-auto px-6">
            <h2 class="text-4xl font-extrabold mb-16 text-center text-slate-900 dark:text-slate-900 tracking-tight" style="color: #0f172a !important;">
                ìµœì  ìš´ì˜ ì „ëµ ì œì•ˆ <span class="bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent px-2" style="color: transparent !important;">(AI)</span>
            </h2>
            
            <div id="strategy-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Hardcoded Mock Cards (Visible even if JS fails) -->
                <div onclick="openStrategyModal('modal-0')" class="group relative bg-white rounded-2xl p-8 shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-slate-200 overflow-hidden cursor-pointer">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <div class="h-16 w-16 bg-blue-50 rounded-2xl mb-6 flex items-center justify-center text-3xl group-hover:scale-110 transition-transform duration-300 shadow-inner">
                        <span class="filter drop-shadow-sm">ğŸš€</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 group-hover:text-blue-700 transition-colors" style="color: #1e293b !important;">ê¸´ê¸‰ íƒ€ì„ ì„¸ì¼</h3>
                    <p class="leading-relaxed font-bold text-sm mb-4" style="color: #475569 !important;">ì˜¤í›„ 2ì‹œ~4ì‹œ 15% í• ì¸ ì ìš©í•˜ì—¬ ë°©ë¬¸ìœ¨ ê·¹ëŒ€í™”</p>
                    <div class="flex items-center gap-2">
                        <div class="flex-1 h-2 bg-slate-100 rounded-full overflow-hidden"><div class="h-full bg-blue-500" style="width:92%"></div></div>
                        <span class="text-xs font-black text-blue-600" style="color:#2563eb !important;">92ì </span>
                    </div>
                </div>

                <div onclick="openStrategyModal('modal-1')" class="group relative bg-white rounded-2xl p-8 shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-slate-200 overflow-hidden cursor-pointer">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <div class="h-16 w-16 bg-indigo-50 rounded-2xl mb-6 flex items-center justify-center text-3xl group-hover:scale-110 transition-transform duration-300 shadow-inner">
                        <span class="filter drop-shadow-sm">ğŸ“¦</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 group-hover:text-indigo-700 transition-colors" style="color: #1e293b !important;">ì¬ê³  ìµœì í™”</h3>
                    <p class="leading-relaxed font-bold text-sm mb-4" style="color: #475569 !important;">ì¸ê¸° í’ˆëª© ì„ ì œì  ë°œì£¼ë¡œ í’ˆì ˆ ë°©ì§€</p>
                    <div class="flex items-center gap-2">
                        <div class="flex-1 h-2 bg-slate-100 rounded-full overflow-hidden"><div class="h-full bg-indigo-500" style="width:85%"></div></div>
                        <span class="text-xs font-black text-indigo-600" style="color:#4f46e5 !important;">85ì </span>
                    </div>
                </div>

                <div onclick="openStrategyModal('modal-2')" class="group relative bg-white rounded-2xl p-8 shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-slate-200 overflow-hidden cursor-pointer">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    <div class="h-16 w-16 bg-emerald-50 rounded-2xl mb-6 flex items-center justify-center text-3xl group-hover:scale-110 transition-transform duration-300 shadow-inner">
                        <span class="filter drop-shadow-sm">ğŸ‘¥</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 group-hover:text-emerald-700 transition-colors" style="color: #1e293b !important;">ì¸ë ¥ íš¨ìœ¨í™”</h3>
                    <p class="leading-relaxed font-bold text-sm mb-4" style="color: #475569 !important;">í”¼í¬íƒ€ì„ íŒŒíŠ¸íƒ€ì„ ë°°ì¹˜ë¡œ ì„œë¹„ìŠ¤ í’ˆì§ˆ ìœ ì§€</p>
                    <div class="flex items-center gap-2">
                        <div class="flex-1 h-2 bg-slate-100 rounded-full overflow-hidden"><div class="h-full bg-emerald-500" style="width:88%"></div></div>
                        <span class="text-xs font-black text-emerald-600" style="color:#059669 !important;">88ì </span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Dashboard Only) -->
    <footer class="mt-20 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm py-12 px-6 lg:px-12">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
            <!-- Brand -->
            <div class="md:col-span-2">
                <div class="flex items-center gap-2 mb-4">
                    <span class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-500">Forkast AI</span>
                </div>
                <p class="text-gray-400 mb-4 max-w-sm">
                    AI ê¸°ë°˜ ë°ì¼ë¦¬ ë§¤ì¶œ ì˜ˆì¸¡ ë° ë§¤ì¥ ê´€ë¦¬ ì†”ë£¨ì…˜.<br>
                    ë°ì´í„°ë¡œ ì¦ëª…í•˜ëŠ” ì„±ê³µ, í¬ì¹´ìŠ¤íŠ¸ì™€ í•¨ê»˜í•˜ì„¸ìš”.
                </p>
                <div class="flex gap-4">
                    <a href="#" class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-gray-400 hover:bg-blue-600 hover:text-white transition">ğŸ¦</a>
                    <a href="#" class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-gray-400 hover:bg-blue-600 hover:text-white transition">ğŸ“˜</a>
                    <a href="#" class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-gray-400 hover:bg-blue-600 hover:text-white transition">ğŸ“¸</a>
                </div>
            </div>

            <!-- Links 1 -->
            <div>
                <h4 class="font-bold text-white mb-4">ì„œë¹„ìŠ¤</h4>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="/sales/" class="hover:text-blue-400 transition">ë§¤ì¶œ ë¶„ì„</a></li>
                    <li><a href="/analytics/forecast/" class="hover:text-blue-400 transition">AI ì˜ˆì¸¡</a></li>
                    <li><a href="/analytics/menu/" class="hover:text-blue-400 transition">ë©”ë‰´ ì¸ì‚¬ì´íŠ¸</a></li>
                    <li><a href="/settings/" class="hover:text-blue-400 transition">ìš”ê¸ˆì œ ì•ˆë‚´</a></li>
                </ul>
            </div>

            <!-- Links 2 -->
            <div>
                <h4 class="font-bold text-white mb-4">ê³ ê° ì§€ì›</h4>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="#" class="hover:text-blue-400 transition">ê³µì§€ì‚¬í•­</a></li>
                    <li><a href="#" class="hover:text-blue-400 transition">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</a></li>
                    <li><a href="#" class="hover:text-blue-400 transition">1:1 ë¬¸ì˜í•˜ê¸°</a></li>
                    <li><a href="#" class="hover:text-blue-400 transition">API ë¬¸ì„œ</a></li>
                </ul>
            </div>
        </div>

        <div class="max-w-7xl mx-auto border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-300">
            <div class="text-center md:text-left">
                <p class="mb-2">
                    (ì£¼)í¬ì¹´ìŠ¤íŠ¸ | ëŒ€í‘œì´ì‚¬: ê¹€í™˜í¬ | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 123-45-67890<br>
                    ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 427 ìœ„ì›Œí¬íƒ€ì›Œ 3ì¸µ | í†µì‹ íŒë§¤ì—…ì‹ ê³ : 2026-ì„œìš¸ê°•ë‚¨-00123
                </p>
                <p>Copyright Â© 2026 Forkast Corp. All rights reserved.</p>
            </div>
            <div class="flex gap-6">
                <a href="#" class="hover:text-white transition">ì´ìš©ì•½ê´€</a>
                <a href="#" class="hover:text-white transition font-bold">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#" class="hover:text-white transition">ìš´ì˜ì •ì±…</a>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Strategy Modals (Hardcoded for zero-JS functionality) -->
    <div id="modal-container">
        <!-- Modal 0 -->
        <div id="modal-0" class="fixed inset-0 z-[100] hidden items-center justify-center">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onclick="closeStrategyModal('modal-0')"></div>
            <div class="relative bg-white border border-slate-200 p-10 rounded-3xl max-w-2xl w-full mx-4 shadow-2xl modal-content animate-in zoom-in duration-300">
                <button onclick="closeStrategyModal('modal-0')" class="absolute top-6 right-6 text-slate-400 hover:text-slate-600 text-2xl font-bold">&times;</button>
                <div class="h-20 w-20 bg-blue-50 rounded-2xl mb-8 flex items-center justify-center text-5xl">ğŸš€</div>
                <h3 class="text-3xl font-black mb-6" style="color: #0f172a !important;">ê¸´ê¸‰ íƒ€ì„ ì„¸ì¼</h3>
                <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100 mb-8">
                    <p class="leading-relaxed font-bold text-lg" style="color: #334155 !important;">ìœ ë™ ì¸êµ¬ê°€ ë§ì€ ì˜¤í›„ 2ì‹œ~4ì‹œ ì‹œê°„ëŒ€ì— í• ì¸ì„ ì ìš©í•˜ì—¬ ë°©ë¬¸ìœ¨ê³¼ ê°ë‹¨ê°€ë¥¼ ë™ì‹œì— ê·¹ëŒ€í™”í•˜ì„¸ìš”.</p>
                </div>
                <button onclick="closeStrategyModal('modal-0')" class="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold hover:bg-slate-800 transition shadow-lg">í™•ì¸</button>
            </div>
        </div>
        <!-- Modal 1 -->
        <div id="modal-1" class="fixed inset-0 z-[100] hidden items-center justify-center">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onclick="closeStrategyModal('modal-1')"></div>
            <div class="relative bg-white border border-slate-200 p-10 rounded-3xl max-w-2xl w-full mx-4 shadow-2xl modal-content animate-in zoom-in duration-300">
                <button onclick="closeStrategyModal('modal-1')" class="absolute top-6 right-6 text-slate-400 hover:text-slate-600 text-2xl font-bold">&times;</button>
                <div class="h-20 w-20 bg-indigo-50 rounded-2xl mb-8 flex items-center justify-center text-5xl">ğŸ“¦</div>
                <h3 class="text-3xl font-black mb-6" style="color: #0f172a !important;">ì¬ê³  ìµœì í™”</h3>
                <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100 mb-8">
                    <p class="leading-relaxed font-bold text-lg" style="color: #334155 !important;">ì£¼ë§ ëŒ€ë¹„ ìˆ˜ìš”ê°€ ë†’ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ì£¼ìš” ì›ì¬ë£Œì™€ ì¸ê¸° í’ˆëª©ì˜ ì¬ê³ ë¥¼ ì„ ì œì ìœ¼ë¡œ í™•ë³´í•˜ì„¸ìš”.</p>
                </div>
                <button onclick="closeStrategyModal('modal-1')" class="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold hover:bg-slate-800 transition shadow-lg">í™•ì¸</button>
            </div>
        </div>
        <!-- Modal 2 -->
        <div id="modal-2" class="fixed inset-0 z-[100] hidden items-center justify-center">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onclick="closeStrategyModal('modal-2')"></div>
            <div class="relative bg-white border border-slate-200 p-10 rounded-3xl max-w-2xl w-full mx-4 shadow-2xl modal-content animate-in zoom-in duration-300">
                <button onclick="closeStrategyModal('modal-2')" class="absolute top-6 right-6 text-slate-400 hover:text-slate-600 text-2xl font-bold">&times;</button>
                <div class="h-20 w-20 bg-emerald-50 rounded-2xl mb-8 flex items-center justify-center text-5xl">ğŸ‘¥</div>
                <h3 class="text-3xl font-black mb-6" style="color: #0f172a !important;">ì¸ë ¥ íš¨ìœ¨í™”</h3>
                <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100 mb-8">
                    <p class="leading-relaxed font-bold text-lg" style="color: #334155 !important;">ë§¤ì¶œ ì§‘ì¤‘ ì‹œê°„ëŒ€ì— ìˆ™ë ¨ëœ ì¸ë ¥ì„ ì¬ë°°ì¹˜í•˜ì—¬ ì„œë¹„ìŠ¤ ì†ë„ì™€ ë§Œì¡±ë„ë¥¼ ìµœìƒìœ¼ë¡œ ìœ ì§€í•˜ì„¸ìš”.</p>
                </div>
                <button onclick="closeStrategyModal('modal-2')" class="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold hover:bg-slate-800 transition shadow-lg">í™•ì¸</button>
            </div>
        </div>
    </div>
    <div id="applied-modal" class="fixed inset-0 z-[200] hidden items-center justify-center">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeAppliedModal()"></div>
        <div class="relative glass bg-gray-900 border border-gray-700 p-8 rounded-2xl max-w-2xl w-full mx-4 shadow-2xl transform transition-all scale-95 opacity-0 modal-content">
            <button onclick="closeAppliedModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            <h3 class="text-2xl font-bold mb-6 flex items-center gap-3"><span>ğŸ“‹</span> í˜„ì¬ ì ìš©ëœ ì „ëµ ëª©ë¡</h3>
            <div class="bg-gray-800/50 rounded-xl p-6 min-h-[200px] max-h-[400px] overflow-y-auto custom-scrollbar">
                <ul id="applied-list" class="space-y-4"><li class="text-gray-300 text-center py-8">ì•„ì§ ì ìš©ëœ ì „ëµì´ ì—†ìŠµë‹ˆë‹¤.</li></ul>
            </div>
            <div class="flex justify-end mt-6 gap-3">
                <button onclick="undoLastStrategy()" class="px-6 py-3 bg-red-600/80 hover:bg-red-500 rounded-lg text-white font-bold transition flex items-center gap-2"><span>â†©ï¸</span> ì‹¤í–‰ ì·¨ì†Œ</button>
                <button onclick="closeAppliedModal()" class="px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold transition">í™•ì¸</button>
            </div>
        </div>
    </div>
    
    <div id="decision-modal" class="fixed inset-0 z-[200] hidden items-center justify-center">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeDecisionModal()"></div>
        <div class="relative glass bg-gray-900 border border-gray-700 p-8 md:p-12 rounded-2xl max-w-2xl w-full mx-4 shadow-2xl transform transition-all scale-95 opacity-0 modal-content">
            <button onclick="closeDecisionModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            <div class="flex items-center gap-4 mb-6">
                <span id="dm-icon" class="text-6xl"></span>
                <div><span id="dm-category" class="text-blue-400 font-bold uppercase tracking-wider text-sm"></span><h3 id="dm-title" class="text-3xl font-bold mt-1"></h3></div>
            </div>
            <div id="dm-content" class="bg-gray-800/50 p-6 rounded-xl border border-gray-700/50 mb-8 text-gray-300 text-lg leading-relaxed whitespace-pre-line"></div>
            <div class="flex justify-end gap-4">
                <button onclick="closeDecisionModal()" class="px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-white font-bold transition">ë‹«ê¸°</button>
                <button id="btn-apply-decision" onclick="applyDecisionStrategy()" class="px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold transition flex items-center gap-2"><span>ğŸš€</span> ì „ëµ ì ìš©í•˜ê¸°</button>
            </div>
        </div>
    </div>
    
    <div id="video-modal" class="fixed inset-0 z-[300] hidden items-center justify-center bg-black/90">
         <div class="absolute inset-0" onclick="closeVideoModal()"></div>
         <div class="relative w-full max-w-5xl aspect-video bg-black rounded-xl overflow-hidden shadow-2xl">
             <button onclick="closeVideoModal()" class="absolute top-4 right-4 text-white text-3xl z-50 hover:text-red-500 transition">&times;</button>
             <video id="modal-video-player" class="w-full h-full" controls>
                 <source src="" type="video/mp4">
             </video>
         </div>
    </div>

        </div>

        <!-- Footer Removed (Moved to Dashboard-only) -->
    </main>

    <!-- Scripts -->
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if (sidebar.classList.contains('-translate-x-full')) {
                sidebar.classList.remove('-translate-x-full');
            } else {
                sidebar.classList.add('-translate-x-full');
            }
        }

        // Theme Toggle Function
        function toggleTheme() {
            const body = document.body;
            const toggleBtn = document.getElementById('theme-toggle');
            const knob = document.getElementById('toggle-knob');
            const icon = document.getElementById('theme-icon');
            
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            
            // Sync data-theme attribute for CSS compatibility
            body.setAttribute('data-theme', isDark ? 'dark' : 'light');
            
            // Update toggle appearance
            if (isDark) {
                toggleBtn.classList.remove('bg-blue-500');
                toggleBtn.classList.add('bg-slate-700');
                knob.classList.remove('left-7', 'bg-white');
                knob.classList.add('left-0.5', 'bg-slate-400');
                icon.className = 'fa-solid fa-moon text-slate-900';
            } else {
                toggleBtn.classList.remove('bg-slate-700');
                toggleBtn.classList.add('bg-blue-500');
                knob.classList.remove('left-0.5', 'bg-slate-400');
                knob.classList.add('left-7', 'bg-white');
                icon.className = 'fa-solid fa-sun text-amber-500';
            }
            
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            const body = document.body;
            const toggleBtn = document.getElementById('theme-toggle');
            const knob = document.getElementById('toggle-knob');
            const icon = document.getElementById('theme-icon');
            
            // Default is dark mode
            if (savedTheme === 'light') {
                body.classList.remove('dark-mode');
                body.setAttribute('data-theme', 'light');
                toggleBtn.classList.remove('bg-slate-700');
                toggleBtn.classList.add('bg-blue-500');
                knob.classList.remove('left-0.5', 'bg-slate-400');
                knob.classList.add('left-7', 'bg-white');
                icon.className = 'fa-solid fa-sun text-amber-500';
            } else {
                // Ensure dark mode set if null or dark
                body.classList.add('dark-mode');
                body.setAttribute('data-theme', 'dark');
            }
            
            // ì „ì—­ ìˆ«ì í¬ë§·íŒ… (ì²œ ë‹¨ìœ„ ì‰¼í‘œ)
            formatAllNumbers();
        });
        
        // ìˆ«ì í¬ë§·íŒ… í•¨ìˆ˜
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }
        
        // .format-number í´ë˜ìŠ¤ê°€ ìˆëŠ” ìš”ì†Œë“¤ ìë™ í¬ë§·íŒ…
        function formatAllNumbers() {
            document.querySelectorAll('.format-number').forEach(el => {
                const num = parseInt(el.textContent.replace(/[^0-9-]/g, ''), 10);
                if (!isNaN(num)) {
                    el.textContent = formatNumber(num);
                }
            });
        }
        
        // ë™ì ìœ¼ë¡œ ì¶”ê°€ëœ ìš”ì†Œë„ ì§€ì›
        window.formatNumber = formatNumber;
        window.formatAllNumbers = formatAllNumbers;
    </script>


    <!-- Chart.js & Highcharts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-3d.js"></script>
    
<script>
    // Video Modal
    function openVideoModal(src) {
        const modal = document.getElementById('video-modal');
        const video = document.getElementById('modal-video-player');
        video.src = src;
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        video.play();
    }
    function closeVideoModal() {
        const modal = document.getElementById('video-modal');
        const video = document.getElementById('modal-video-player');
        video.pause();
        video.src = '';
        modal.classList.add('hidden');
        modal.classList.remove('flex');
    }

    // --- CSV & Chart Logic (Simplified Copy) ---
    // (Pasted logic from index_v2.html)
    
     function uploadCSV(input) {
            const file = input.files[0];
            if (!file) return;

            const formData = new FormData();
            formData.append('file', file);

            // UI Feedback
            const btn = input.nextElementSibling;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span>â³</span> ë¶„ì„ ì¤‘...';
            btn.disabled = true;

            fetch('/api/upload-csv/', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    if(document.getElementById('ai-analysis-text')) document.getElementById('ai-analysis-text').innerText = data.analysis;
                    if(document.getElementById('center-cheer-msg')) document.getElementById('center-cheer-msg').innerText = data.cheer_msg;
                    
                    if(document.getElementById('stat-total-revenue')) document.getElementById('stat-total-revenue').innerText = data.total_revenue.toLocaleString() + 'ì›';
                    if(document.getElementById('stat-total-orders')) document.getElementById('stat-total-orders').innerText = data.total_orders.toLocaleString() + 'ê±´';

                    updateSalesChart(data.labels, data.data); 
                    
                    const overlay = document.getElementById('chart-overlay-msg');
                    if(overlay) overlay.style.opacity = '0';

                    alert('ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
                } else {
                    alert('ì˜¤ë¥˜: ' + data.message);
                }
            })
            .catch(err => {
                console.error(err);
                alert('ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            })
            .finally(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                input.value = ''; 
            });
        }

        function uploadPastCSV(input) {
            const file = input.files[0];
            if (!file) return;
            const formData = new FormData();
            formData.append('file', file);
            const btn = input.nextElementSibling;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span>â³</span> ë¹„êµ ì¤‘...';
            btn.disabled = true;

            fetch('/api/upload-past-csv/', { method: 'POST', body: formData })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    let html = data.analysis.replace(/\*\*(.*?)\*\*/g, '<b class="text-purple-300">$1</b>');
                    html = html.replace(/\n/g, '<br>');
                    document.getElementById('past-analysis-text').innerHTML = html;
                    updatePastChart(data.pie_labels, data.pie_data);
                    alert('ë¹„êµ ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
                } else {
                    alert('ì˜¤ë¥˜: ' + data.message);
                }
            })
            .finally(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                input.value = '';
            });
        }
        
    // Charts
    function updateSalesChart(labels, data) {
         // Transform data for Highcharts Area 3D
         Highcharts.chart('salesChartContainer', {
             chart: {
                 type: 'area',
                 backgroundColor: 'rgba(0,0,0,0)',
                 options3d: {
                     enabled: true,
                     alpha: 12,
                     beta: 12,
                     depth: 60,
                     viewDistance: 22
                 },
                 margin: [30, 0, 50, 0],
                 spacing: [15, 15, 0, 15]
             },
             title: { text: null },
             xAxis: {
                 categories: labels,
                 labels: { style: { color: '#9ca3af' } },
                 gridLineColor: 'rgba(255,255,255,0.1)'
             },
             yAxis: {
                 title: { text: null },
                 labels: { 
                     style: { color: '#9ca3af' },
                     formatter: function() {
                        return 'â‚©' + Highcharts.numberFormat(this.value, 0, '', ',');
                     }
                 },
                 gridLineColor: 'rgba(255,255,255,0.1)'
             },
             plotOptions: {
                 area: {
                     depth: 25,
                     marker: { enabled: false },
                     states: { hover: { lineWidth: 1 } },
                     threshold: null
                 }
             },
             series: [{
                 name: 'ì‹¤ì‹œê°„ ë§¤ì¶œ',
                 data: data,
                 color: '#3b82f6',
                 fillColor: {
                     linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                     stops: [
                         [0, 'rgba(59, 130, 246, 0.5)'],
                         [1, 'rgba(59, 130, 246, 0)']
                     ]
                 },
                 lineColor: '#60a5fa'
             }],
             credits: { enabled: false },
             legend: { enabled: false }
         });
    }

    function updatePastChart(labels, data) {
         Highcharts.chart('pastSalesChart', {
            chart: { 
                type: 'pie', 
                backgroundColor: 'transparent', 
                options3d: { 
                    enabled: true, 
                    alpha: 45, 
                    beta: 0 
                } 
            },
            title: { text: null },
            accessibility: { point: { valueSuffix: '%' } },
            plotOptions: { 
                pie: { 
                    allowPointSelect: true, 
                    cursor: 'pointer', 
                    depth: 35, 
                    dataLabels: { 
                        enabled: true, 
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: { color: '#e5e7eb' }
                    } 
                } 
            },
            series: [{ 
                type: 'pie', 
                name: 'ë§¤ì¶œ ë¹„ì¤‘', 
                data: labels.map((l, i) => [l, data[i]]) 
            }],
            credits: { enabled: false }
        });
    }

    // Decision & Strategy
    let selectedDecision = null;
    let appliedStrategies = [];
    const strategiesData = {
            'sales': [
                { icon: 'ğŸ“¢', title: 'ê¸´ê¸‰ íƒ€ì„ ì„¸ì¼', summary: 'ì˜¤í›„ 2ì‹œ~4ì‹œ í•´í”¼ì•„ì›Œ 15% í• ì¸', score: 92, category: 'ë§¤ì¶œ ë¶€ìŠ¤íŒ…', detail: 'ìœ ë™ ì¸êµ¬ê°€ ë§ì§€ë§Œ ë°©ë¬¸ìœ¨ì´ ë–¨ì–´ì§€ëŠ” ì˜¤í›„ 2ì‹œë¶€í„° 4ì‹œ ì‚¬ì´ì— "í•´í”¼ì•„ì›Œ 15% í• ì¸" ì´ë²¤íŠ¸ë¥¼ ì§„í–‰í•˜ì„¸ìš”.' },
                { icon: 'ğŸ°', title: 'ê°ë‹¨ê°€ ìƒìŠ¹ ì„¸íŠ¸', summary: 'ì•„ë©”ë¦¬ì¹´ë…¸ + ì¼€ì´í¬ 1ì¸ ì„¸íŠ¸ ì¶œì‹œ', score: 88, category: 'ë©”ë‰´ ìµœì í™”', detail: 'ë””ì €íŠ¸ íŒë§¤ëŸ‰ì´ ì €ì¡°í•©ë‹ˆë‹¤. ì¸ê¸° ìŒë£Œì¸ ì•„ë©”ë¦¬ì¹´ë…¸ì™€ ì¼€ì´í¬ë¥¼ ë¬¶ì€ "1ì¸ ë‹¬ì½¤ ì„¸íŠ¸"ë¥¼ ì¶œì‹œí•˜ì„¸ìš”.' },
                { icon: 'ğŸ›µ', title: 'ë°°ë‹¬ ì•± ê¹ƒë°œ ìµœì í™”', summary: 'ì£¼ë¬¸ ë°€ì§‘ ì§€ì—­ ê¹ƒë°œ ì¬ë°°ì¹˜', score: 85, category: 'ë°°ë‹¬ ë§ˆì¼€íŒ…', detail: 'íš¨ìœ¨ì´ ë‚®ì€ Aêµ¬ì—­ì˜ ê¹ƒë°œì„ ì£¼ë¬¸ëŸ‰ì´ ì¦ê°€í•˜ëŠ” Cêµ¬ì—­ìœ¼ë¡œ ì´ë™ì‹œí‚¤ì„¸ìš”.' }
            ],
            'profit': [
                { icon: 'ğŸ¥›', title: 'ì¬ê³  ì†Œì§„ í”„ë¡œëª¨ì…˜', summary: 'ìœ í†µê¸°í•œ ì„ë°• ìš°ìœ  í™œìš© ë¼ë–¼ í• ì¸', score: 94, category: 'ì¬ê³  ê´€ë¦¬', detail: 'ìœ í†µê¸°í•œ ì„ë°• ìš°ìœ  ì†Œì§„ì„ ìœ„í•´ "ì˜¤ëŠ˜ì˜ ë¼ë–¼" 10% í• ì¸ì„ ì§„í–‰í•˜ì„¸ìš”.' },
                { icon: 'ğŸ‘¥', title: 'ì¸ë ¥ íš¨ìœ¨í™”', summary: '15:00~16:00 íŒŒíŠ¸íƒ€ì„ íœ´ê²Œ ì‹œê°„', score: 89, category: 'ì¸ê±´ë¹„ ìµœì í™”', detail: 'í•´ë‹¹ ì‹œê°„ëŒ€ ë§¤ì¶œ ëŒ€ë¹„ ì¸ê±´ë¹„ ë¹„ì¤‘ì´ ë†’ìŠµë‹ˆë‹¤. ë¸Œë ˆì´í¬ íƒ€ì„ì„ í™œìš©í•˜ì„¸ìš”.' },
                { icon: 'âš¡', title: 'ì—ë„ˆì§€ ì ˆì•½', summary: 'í”¼í¬íƒ€ì„ ì „ë ¥ ì œì–´', score: 82, category: 'ìš´ì˜ ë¹„ìš©', detail: 'í”¼í¬íƒ€ì„ ì „ë ¥ ì†Œëª¨ë¥¼ ë§‰ê¸° ìœ„í•´ AI ìë™ ì œì–´ ì‹œìŠ¤í…œì„ ê°€ë™í•˜ì„¸ìš”.' }
            ],
            'customer': [
                { icon: 'ğŸ‘‘', title: 'ë‹¨ê³¨ ìš°ëŒ€ ìº í˜ì¸', summary: 'íœ´ë©´ VIP ì¿ í° ë°œì†¡', score: 95, category: 'CRM ë§ˆì¼€íŒ…', detail: 'ìµœê·¼ ë¯¸ë°©ë¬¸ VIP ê³ ê°ì—ê²Œ "ì›°ì»´ ë°± ë¬´ë£Œ ì»¤í”¼" ì¿ í°ì„ ë°œì†¡í•˜ì„¸ìš”.' },
                { icon: 'â­', title: 'ë¦¬ë·° ì´ë²¤íŠ¸', summary: 'í¬í†  ë¦¬ë·° ì‹œ ì¿ í‚¤ ì¦ì •', score: 90, category: 'ë°”ì´ëŸ´ ë§ˆì¼€íŒ…', detail: 'ì˜ìˆ˜ì¦ í¬í†  ë¦¬ë·° ì¸ì¦ ì‹œ ìˆ˜ì œ ì¿ í‚¤ë¥¼ ì œê³µí•˜ì—¬ ë¦¬ë·° ìˆ˜ë¥¼ ëŠ˜ë¦¬ì„¸ìš”.' },
                { icon: 'ğŸ‚', title: 'ìƒì¼ ì¶•í•˜', summary: 'ìƒì¼ ê³ ê° ì¡°ê° ì¼€ì´í¬', score: 88, category: 'ê°ë™ ê²½ì˜', detail: 'ì´ë²ˆ ì£¼ ìƒì¼ ê³ ê°ì—ê²Œ ì¡°ê° ì¼€ì´í¬ë¥¼ ì„ ë¬¼í•˜ì„¸ìš”.' }
            ]
    };

    function selectDecision(type) {
        selectedDecision = type;
        const types = ['sales', 'profit', 'customer'];
        const colors = { 'sales': 'blue', 'profit': 'amber', 'customer': 'emerald' };
        
        types.forEach(t => {
            const el = document.getElementById(`decision-${t}`);
            const color = colors[t];
            
            // Classes to REMOVE (Reset state)
            el.classList.remove('bg-white', 'bg-slate-50', 'border-slate-200', 'shadow-sm', 'shadow-xl', 'scale-105', 'opacity-50');
            el.classList.remove(`border-${color}-500`, `bg-${color}-50`);
            
            if(t === type) {
                // ACTIVE State
                el.classList.add('bg-white', `border-${color}-500`, `bg-${color}-50`, 'shadow-xl', 'scale-105');
                // Ensure circle border is highlighted
                el.querySelector('div > div.rounded-full').classList.add(`border-${color}-500`);
                el.querySelector('div > div.rounded-full').classList.remove(`border-${color}-100`);
            } else {
                // INACTIVE State
                el.classList.add('bg-slate-50', 'border-slate-200', 'shadow-sm');
                // Reset circle border
                el.querySelector('div > div.rounded-full').classList.remove(`border-${color}-500`);
                el.querySelector('div > div.rounded-full').classList.add(`border-${color}-100`);
            }
        });
    }

    function executeStrategy() {
        if(!selectedDecision) { alert('ì „ëµì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
        const btn = document.getElementById('btn-execute-strategy');
        btn.disabled = true; btn.innerHTML = 'ë¶„ì„ ì¤‘...';
        setTimeout(() => {
            btn.disabled = false; btn.innerHTML = 'ğŸš€ ì „ëµ ìŠ¹ì¸ ë° ì‹¤í–‰';
            openDecisionModal(selectedDecision);
        }, 800);
    }
    
    function openDecisionModal(type) {
         const modal = document.getElementById('decision-modal');
         const d = strategiesData[type][0]; // Demo: Show first strategy
         
         document.getElementById('dm-icon').innerText = {sales:'ğŸ’°', profit:'âš–ï¸', customer:'ğŸ’–'}[type];
         document.getElementById('dm-category').innerText = {sales:'ë§¤ì¶œ ì„±ì¥', profit:'ë¹„ìš© ì ˆê°', customer:'ê³ ê° ë§Œì¡±'}[type];
         document.getElementById('dm-title').innerText = d.category; 
         document.getElementById('dm-content').innerText = "AI ì¶”ì²œ ì „ëµ:\n" + d.title + "\n\n" + d.detail;

         modal.classList.remove('hidden'); modal.classList.add('flex');
         setTimeout(() => { modal.querySelector('.modal-content').classList.remove('scale-95', 'opacity-0'); modal.querySelector('.modal-content').classList.add('scale-100', 'opacity-100'); }, 10);
    }
    function closeDecisionModal() {
        document.getElementById('decision-modal').classList.add('hidden');
        document.getElementById('decision-modal').classList.remove('flex');
    }
    function applyDecisionStrategy() {
        closeDecisionModal();
        alert('ì „ëµì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!');
        // Ideally update UI here
    }
    function openAppliedModal() { document.getElementById('applied-modal').classList.remove('hidden'); document.getElementById('applied-modal').classList.add('flex'); }
    function closeAppliedModal() { document.getElementById('applied-modal').classList.add('hidden'); document.getElementById('applied-modal').classList.remove('flex'); }
    function undoLastStrategy() { alert('ì·¨ì†Œí•  ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.'); }
    
    function updateOperationalStrategies(type) {
         // Logic to update strategy container (omitted for brevity, can be added if crucial)
    }

    function openStrategyModal(id) { document.getElementById(id).classList.remove('hidden'); document.getElementById(id).classList.add('flex'); }
    function closeStrategyModal(id) { document.getElementById(id).classList.add('hidden'); document.getElementById(id).classList.remove('flex'); }

    // Init Logic
    
        Promise.resolve({
            status: 'success',
            prediction: 1350000,
            weather: { condition: 'ë§‘ìŒ', temp: 24 },
            analysis: "ìµœê·¼ ë§¤ì¶œ íë¦„ì´ ë§¤ìš° ì¢‹ìŠµë‹ˆë‹¤. ì ì‹¬ í”¼í¬ ì¸ë ¥ ì¶©ì›ê³¼ ì¬ê³  ì ê²€ì„ ì¶”ì²œí•©ë‹ˆë‹¤.",
            strategies: [
                {
                    icon: 'ğŸš€', title: 'ê¸´ê¸‰ íƒ€ì„ ì„¸ì¼', summary: 'ì˜¤í›„ 2ì‹œ~4ì‹œ 15% í• ì¸', score: 92,
                    detail: 'ìœ ë™ ì¸êµ¬ê°€ ë§ì€ ì‹œê°„ëŒ€ì— í• ì¸ì„ ì ìš©í•˜ì—¬ ë°©ë¬¸ìœ¨ì„ ê·¹ëŒ€í™”í•˜ì„¸ìš”.'
                },
                {
                    icon: 'ğŸ“¦', title: 'ì¬ê³  ìµœì í™”', summary: 'ì¸ê¸° í’ˆëª© ì„ ì œì  ë°œì£¼', score: 85,
                    detail: 'ì£¼ë§ ëŒ€ë¹„ ìˆ˜ìš”ê°€ ë†’ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ì›ë‘ì™€ ìš°ìœ ë¥¼ ì¶”ê°€ í™•ë³´í•˜ì„¸ìš”.'
                },
                {
                    icon: 'ğŸ‘¥', title: 'ì¸ë ¥ íš¨ìœ¨í™”', summary: 'í”¼í¬íƒ€ì„ íŒŒíŠ¸íƒ€ì„ ë°°ì¹˜', score: 88,
                    detail: 'ë§¤ì¶œ ì§‘ì¤‘ ì‹œê°„ëŒ€ì— ì¸ë ¥ì„ ì¬ë°°ì¹˜í•˜ì—¬ ì„œë¹„ìŠ¤ í’ˆì§ˆì„ ìœ ì§€í•˜ì„¸ìš”.'
                }
            ],
            hourly_sales: [0,0,0,0,0,0,0,150000,320000,450000,680000,950000,420000,300000,0,0,0,0,0,0,0,0,0,0],
            past_hourly_sales: [0,0,0,0,0,0,0,120000,280000,410000,600000,850000,380000,290000,0,0,0,0,0,0,0,0,0,0]
        })
        
        
        .then(d=>{
            if(d.status==='success'){
                 // Safe updates: check for element existence
                 const predEl = document.getElementById('prediction-value');
                 if(predEl) predEl.innerText = 'â‚© ' + Number(d.prediction).toLocaleString();
                 
                 const weatherCondEl = document.getElementById('weather-cond');
                 const weatherTempEl = document.getElementById('weather-temp');
                 if(d.weather && d.weather.condition && weatherCondEl && weatherTempEl) {
                     weatherCondEl.innerText = d.weather.condition;
                     weatherTempEl.innerText = d.weather.temp + 'Â°';
                 }

                 const analysisEl = document.getElementById('ai-analysis-text');
                 if(analysisEl) analysisEl.innerText = d.analysis;
                 
                 // Update strategies
                 const container = document.getElementById('strategy-container');
                 const modalContainer = document.getElementById('modal-container');
                 
                 if (container && d.strategies) {
                     container.innerHTML = '';
                     d.strategies.forEach((s,i) => {
                         const mid = `modal-${i}`;
                         container.insertAdjacentHTML('beforeend', `
                            <div onclick="openStrategyModal('${mid}')" 
                                 class="group relative bg-white rounded-2xl p-5 shadow-sm hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-slate-200 overflow-hidden cursor-pointer">
                                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                
                                <div class="h-16 w-16 bg-blue-50 rounded-2xl mb-4 flex items-center justify-center text-3xl group-hover:scale-110 transition-transform duration-300 shadow-inner">
                                    <span class="filter drop-shadow-sm">${s.icon}</span>
                                </div>
                                
                                <h3 class="text-2xl font-bold text-slate-800 dark:text-slate-900 mb-4 group-hover:text-blue-700 transition-colors" style="color: #1e293b !important;">${s.title}</h3>
                                
                                <p class="text-slate-600 dark:text-slate-600 leading-relaxed font-bold text-base mb-4" style="color: #475569 !important;">
                                    ${s.summary}
                                </p>
                                
                                <div class="flex items-center gap-4">
                                    <div class="flex-1 h-2 bg-slate-100 rounded-full overflow-hidden">
                                        <div class="h-full bg-gradient-to-r from-blue-500 to-indigo-500" style="width:${s.score}%"></div>
                                    </div>
                                    <span class="text-base text-blue-600 font-bold" style="color: #2563eb !important;">${s.score}ì </span>
                                </div>
                            </div>
                         `);
                         if (modalContainer) {
                             modalContainer.insertAdjacentHTML('beforeend', `
                                <div id="${mid}" class="fixed inset-0 z-[100] hidden items-center justify-center">
                                    <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onclick="closeStrategyModal('${mid}')"></div>
                                     <div class="relative bg-white border border-slate-200 p-5 rounded-3xl max-w-2xl w-full mx-4 shadow-2xl modal-content animate-in zoom-in duration-300">
                                        <button onclick="closeStrategyModal('${mid}')" class="absolute top-5 right-5 text-slate-400 hover:text-slate-600 text-3xl font-bold">&times;</button>
                                        <div class="h-20 w-20 bg-blue-50 rounded-2xl mb-5 flex items-center justify-center text-5xl">
                                            ${s.icon}
                                        </div>
                                        <h3 class="text-3xl font-black text-slate-900 mb-5" style="color: #0f172a !important;">${s.title}</h3>
                                        <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100 mb-5">
                                            <p class="text-slate-700 leading-relaxed font-bold text-lg" style="color: #334155 !important;">${s.detail}</p>
                                        </div>
                                        <button onclick="closeStrategyModal('${mid}')" class="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold hover:bg-slate-800 transition shadow-lg text-lg">í™•ì¸</button>
                                    </div>
                                </div>
                             `);
                         }
                     });
                 }

                 // Render Comparison Chart
                 if (d.hourly_sales && d.past_hourly_sales) {
                     renderComparisonChart(d.hourly_sales, d.past_hourly_sales);
                     updateSalesChart([...Array(24).keys()].map(h => h.toString().padStart(2, '0') + ':00'), d.hourly_sales);
                     
                     // Hide loading
                     const loading = document.getElementById('comparison-loading');
                     if(loading) {
                         loading.style.opacity = '0';
                         setTimeout(() => loading.classList.add('hidden'), 500);
                     }
                 }
            }
        });

    function renderComparisonChart(todayData, pastData) {
        Highcharts.chart('comparisonChartContainer', {
            chart: {
                type: 'areaspline',
                backgroundColor: 'transparent',
                style: { fontFamily: "'Inter', sans-serif" },
                spacingBottom: 20
            },
            title: { text: null },
            credits: { enabled: false },
            xAxis: {
                categories: [...Array(24).keys()].map(h => h.toString().padStart(2, '0') + ':00'),
                gridLineWidth: 0,
                lineWidth: 0,
                labels: { style: { color: '#64748b', fontSize: '13px' }, step: 3 }
            },
            yAxis: {
                title: { text: null },
                gridLineColor: 'rgba(255, 255, 255, 0.05)',
                labels: {
                    style: { color: '#475569', fontSize: '13px' },
                    formatter: function() { return (this.value / 10000).toLocaleString() + 'ë§Œ'; }
                }
            },
            tooltip: {
                shared: true,
                backgroundColor: 'rgba(15, 23, 42, 0.9)',
                borderColor: '#6366f1',
                borderRadius: 12,
                style: { color: '#f8fafc' },
                valueSuffix: 'ì›'
            },
            plotOptions: {
                areaspline: {
                    fillOpacity: 0.1,
                    marker: { enabled: false, symbol: 'circle', radius: 3, states: { hover: { enabled: true } } },
                    lineWidth: 2
                }
            },
            series: [{
                name: 'ì˜¤ëŠ˜ ë§¤ì¶œ',
                data: todayData,
                color: '#3b82f6',
                zIndex: 2,
                fillColor: {
                    linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                    stops: [[0, 'rgba(59, 130, 246, 0.2)'], [1, 'rgba(59, 130, 246, 0)']]
                }
            }, {
                name: 'ì „ì£¼ ë™ê¸° ë§¤ì¶œ',
                data: pastData,
                color: '#6366f1',
                dashStyle: 'ShortDash',
                fillOpacity: 0.05,
                zIndex: 1,
                fillColor: 'transparent'
            }]
        });
    }
</script>

</body>
</html>
